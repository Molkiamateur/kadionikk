Local repository (OPKG based)
=============================

The goal is to set up a local repository based on OPKG (IPK).

1- Build the index for all packages

$ bitbake package-index

2- Start the HTTP mini-server (Python) on the 'tmp/deploy/ipk' directory (in the HTTP tab)

$ cd tmp/deploy/ipk
$ python -m SimpleHTTPServer
Serving HTTP on 0.0.0.0 port 8000 ...

3- On the board, update /etc/opkg/opkg.conf as follows, then download the index from the board

# Local configuration
src/gz all http://192.168.7.1:8000/all
src/gz armv7vet2hf-neon http://192.168.7.1:8000/armv7vet2hf-neon
src/gz qemuarm http://192.168.7.1:8000/qemuarm

-> You can use opkg.conf.add provided with the PW

copy the file to the target:

$ scp opkg.conf.add root@192.168.7.2:/home/root

On the target, update opkg.conf:

# cat opkg.conf.add >> /etc/opkg/opkg.conf


# opkg update

4- Test the "search" function, then install the previous package (from PW 1)

# opkg find "mypack*"
# opkg install mypack-hello
