/*
 * File: riscv.scala                                                           *
 * Created Date: 2025-04-08 03:09:42 pm                                        *
 * Author: Mathieu Escouteloup                                                 *
 * -----                                                                       *
 * Last Modified: 2025-04-08 03:30:24 pm                                       *
 * Modified By: Mathieu Escouteloup                                            *
 * Email: mathieu.escouteloup@enseirb-matmeca.fr                               *
 * -----                                                                       *
 * License: See LICENSE.md                                                     *
 * Copyright (c) 2025 ENSEIRB-MATMECA                                          *
 * -----                                                                       *
 * Description:                                                                *
 */


package learn.core

import chisel3._
import chisel3.util._


object RISCV {
  // ******************************
  //            OPCODE
  // ******************************
	def OPCODE_LUI      = "b0110111".U(7.W)
	def OPCODE_AUIPC    = "b0010111".U(7.W)
	def OPCODE_JAL  	  = "b1101111".U(7.W)
	def OPCODE_JALR 		= "b1100111".U(7.W)
	def OPCODE_BRANCH	  = "b1100011".U(7.W)
	def OPCODE_LOAD  	  = "b0000011".U(7.W)
	def OPCODE_STORE  	= "b0100011".U(7.W)
	def OPCODE_OP_IMM   = "b0010011".U(7.W)
	def OPCODE_OP       = "b0110011".U(7.W)

  // ******************************
  //            FUNC3
  // ******************************
	def FUNC3_JALR    	= "b000".U(3.W)

	def FUNC3_BEQ    	  = "b000".U(3.W)
	def FUNC3_BNE    	  = "b001".U(3.W)
	def FUNC3_BLT    	  = "b100".U(3.W)
	def FUNC3_BGE    	  = "b101".U(3.W)
	def FUNC3_BLTU   	  = "b110".U(3.W)
	def FUNC3_BGEU   	  = "b111".U(3.W)

	def FUNC3_LB      	= "b000".U(3.W)
	def FUNC3_LH      	= "b001".U(3.W)
	def FUNC3_LW      	= "b010".U(3.W)
	def FUNC3_LBU       = "b100".U(3.W)
	def FUNC3_LHU     	= "b101".U(3.W)

	def FUNC3_SB      	= "b000".U(3.W)
	def FUNC3_SH      	= "b001".U(3.W)
	def FUNC3_SW      	= "b010".U(3.W)

	def FUNC3_ADD       = "b000".U(3.W)
	def FUNC3_SLL       = "b001".U(3.W)
	def FUNC3_SLT       = "b010".U(3.W)
	def FUNC3_SLTU      = "b011".U(3.W)
	def FUNC3_XOR       = "b100".U(3.W)
	def FUNC3_SR      	= "b101".U(3.W)
	def FUNC3_OR      	= "b110".U(3.W)
	def FUNC3_AND     	= "b111".U(3.W)

  // ******************************
  //            FUNC7
  // ******************************
	def FUNC7_ADD     	= "b0000000".U(7.W)
	def FUNC7_SUB     	= "b0100000".U(7.W)
	def FUNC7_SRL     	= "b0000000".U(7.W)
	def FUNC7_SRA     	= "b0100000".U(7.W)

  // ******************************
  //            RV32I
  // ******************************
  def LUI       = BitPat("b?????????????????????????0110111")
  def AUIPC     = BitPat("b?????????????????????????0010111")
  def JAL       = BitPat("b?????????????????????????1101111")
  def JALR      = BitPat("b?????????????????000?????1100111")
  def BEQ       = BitPat("b?????????????????000?????1100011")
  def BNE       = BitPat("b?????????????????001?????1100011")
  def BLT       = BitPat("b?????????????????100?????1100011")
  def BGE       = BitPat("b?????????????????101?????1100011")
  def BLTU      = BitPat("b?????????????????110?????1100011")
  def BGEU      = BitPat("b?????????????????111?????1100011")
  def LB        = BitPat("b?????????????????000?????0000011")
  def LH        = BitPat("b?????????????????001?????0000011")
  def LW        = BitPat("b?????????????????010?????0000011")
  def LBU       = BitPat("b?????????????????100?????0000011")
  def LHU       = BitPat("b?????????????????101?????0000011")
  def SB        = BitPat("b?????????????????000?????0100011")
  def SH        = BitPat("b?????????????????001?????0100011")
  def SW        = BitPat("b?????????????????010?????0100011")
  def ADDI      = BitPat("b?????????????????000?????0010011")
  def SLLI      = BitPat("b000000???????????001?????0010011")
  def SLTI      = BitPat("b?????????????????010?????0010011")
  def SLTIU     = BitPat("b?????????????????011?????0010011")
  def XORI      = BitPat("b?????????????????100?????0010011")
  def SRLI      = BitPat("b000000???????????101?????0010011")
  def SRAI      = BitPat("b010000???????????101?????0010011")
  def ORI       = BitPat("b?????????????????110?????0010011")
  def ANDI      = BitPat("b?????????????????111?????0010011")
  def ADD       = BitPat("b0000000??????????000?????0110011")
  def SUB       = BitPat("b0100000??????????000?????0110011")
  def SLL       = BitPat("b0000000??????????001?????0110011")
  def SLT       = BitPat("b0000000??????????010?????0110011")
  def SLTU      = BitPat("b0000000??????????011?????0110011")
  def XOR       = BitPat("b0000000??????????100?????0110011")
  def SRL       = BitPat("b0000000??????????101?????0110011")
  def SRA       = BitPat("b0100000??????????101?????0110011")
  def OR        = BitPat("b0000000??????????110?????0110011")
  def AND       = BitPat("b0000000??????????111?????0110011")

  def FENCETSO  = BitPat("b10000011001100000000000000001111")
  def PAUSE     = BitPat("b00000001000000000000000000001111")
  def FENCE     = BitPat("b?????????????????000?????0001111")
  def ECALL     = BitPat("b00000000000000000000000001110011")
  def EBREAK    = BitPat("b00000000000100000000000001110011")
}
